{"data":{"github":{"repository":{"issue":{"number":11,"title":"Set breakpoint on Javascript object's property change","bodyHTML":"<p>Data is the blood of a software application. Oftentimes, we need to know when and where a specific value is changed. That's easy for GDB in good old C world using hardware watchpoint. For Javascript, we can use setter/getter to catch the setting action.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">function</span> <span class=\"pl-en\">breakOnChange</span>(<span class=\"pl-smi\">obj</span>, <span class=\"pl-smi\">key</span>) {\n  <span class=\"pl-k\">let</span> value <span class=\"pl-k\">=</span> obj[key];\n\n  <span class=\"pl-c1\">Object</span>.<span class=\"pl-en\">defineProperty</span>(obj, key, {\n    <span class=\"pl-en\">set</span>(<span class=\"pl-smi\">newValue</span>) {\n      value <span class=\"pl-k\">=</span> newValue;\n      <span class=\"pl-k\">debugger</span>;\n    },\n    <span class=\"pl-en\">get</span>() {\n      <span class=\"pl-k\">return</span> value;\n    }\n  });\n};\n</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> obj <span class=\"pl-k\">=</span> {a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>};\n<span class=\"pl-en\">breakOnChange</span>(obj, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);</pre></div>","createdAt":"2019-02-22T12:13:27Z","labels":{"edges":[{"node":{"name":"post"}}]}}}}},"pageContext":{"slug":11}}