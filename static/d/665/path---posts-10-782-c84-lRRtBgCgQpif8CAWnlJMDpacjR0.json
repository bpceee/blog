{"data":{"github":{"repository":{"issue":{"number":10,"title":"containing block vs HTMLElement.offsetParent","bodyHTML":"<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block\" rel=\"nofollow\">Containing block</a> is a key concept in html layout, which impacts the size and position of an element.<br>\nAnd the process of identifying it is rather complex: <a rel=\"nofollow\" href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#Identifying_the_containing_block\">https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#Identifying_the_containing_block</a></p>\n<p>While you might be tempted to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent\" rel=\"nofollow\"><code>HTMLElement.offsetParent</code></a> to programmatically get the containing block, it doesn't always get what you want.</p>\n<p><code>HTMLElement.offsetParent</code> is simple, it only returns the closest (nearest in the containment hierarchy) positioned containing element. One rule contradicting this for containing block as following:</p>\n<blockquote>\n<ol start=\"4\">\n<li>If the <code>position</code> property is <code>absolute</code> or <code>fixed</code>, the containing block may also be formed by the edge of the padding box of the nearest ancestor element that has the following: <br>1. A <code>transform</code> or <code>perspective</code> value other than none <br>2. ...</li>\n</ol>\n</blockquote>\n<p>Thanks to our open source community, I found a JS library <a href=\"https://github.com/niklasramo/mezr#containingblock\">mezr</a> can do this.</p>","createdAt":"2019-02-17T07:28:53Z","labels":{"edges":[{"node":{"name":"css"}},{"node":{"name":"post"}}]}}}}},"pageContext":{"slug":10}}